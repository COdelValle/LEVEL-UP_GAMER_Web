<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuevo Producto - Level-Up Gamer Admin</title>
    
    <!-- CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="../assets/style.css" rel="stylesheet">
    <link href="../assets/styles-2.css" rel="stylesheet">
</head>
<body>
    <!-- Admin Header -->
    <header class="admin-header">
        <div class="d-flex justify-content-between align-items-center">
            <div>
                <a href="../../index.html" class="d-flex align-items-center" style="text-decoration:none; gap: 0.5rem;">
                    <img src="../assets/img/LevelUpGamer.png" alt="Logo" style="height:2.5rem;">
                    <span class="gradient-text" style="font-size: 1.5rem; font-weight: 700;">Level-Up Gamer</span>
                    <span class="text-secondary">- Admin Panel</span>
                </a>
            </div>
            <div class="d-flex align-items-center gap-3">
                <span class="text-secondary">Bienvenido, <span id="admin-name">Admin</span></span>
                <button class="btn btn-secondary btn-sm" onclick="logout()">
                    Cerrar Sesi√≥n
                </button>
            </div>
        </div>
    </header>

    <div class="d-flex">
        <!-- Sidebar -->
         <nav class="admin-sidebar" style="width: 250px;">
            <div class="p-3">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a href="home.html" class="admin-nav-link active" onclick="showSection('dashboard')">
                            üìä Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="nuevo_producto.html" class="admin-nav-link">
                            ‚ûï Nuevo Producto
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="home.html" class="admin-nav-link" onclick="showSection('products')">
                            üì¶ Gestionar Productos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="home.html" class="admin-nav-link" onclick="showSection('orders')">
                            üõí Pedidos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="usuarios.html" class="admin-nav-link" onclick="showSection('users')">
                            üë• Usuarios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="../../index.html" class="admin-nav-link">
                            üè† Ir a la Tienda
                        </a>
                    </li>
                </ul>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content flex-grow-1">
            <!-- Breadcrumb -->
            <div class="mb-4">
                <nav class="text-secondary" style="font-size: 0.875rem;">
                    <a href="home.html" class="text-secondary" style="text-decoration: none;">Admin</a>
                    <span class="mx-2">/</span>
                    <span class="text-white">Nuevo Producto</span>
                </nav>
            </div>

            <!-- Header Section -->
            <div class="row mb-4">
                <div class="col-12">
                    <h2 class="gradient-text mb-3">Crear Nuevo Producto</h2>
                    <p class="text-secondary">Completa la informaci√≥n del producto para agregarlo al cat√°logo</p>
                </div>
            </div>

            <div class="row g-4">
                <!-- Formulario Principal -->
                <div class="col-lg-8">
                    <!-- Informaci√≥n B√°sica -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="gradient-text mb-4">Informaci√≥n B√°sica</h5>
                            
                            <div class="row g-3">
                                <div class="col-12">
                                    <label class="form-label">Nombre del Producto *</label>
                                    <input type="text" id="product-name" class="form-control" placeholder="Ej: PC Gamer ASUS ROG Strix" required>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">Categor√≠a *</label>
                                    <select id="product-category" class="form-control" required>
                                        <option value="">Seleccionar categor√≠a</option>
                                        <option value="pc-gamers">PC Gamers</option>
                                        <option value="perifericos">Perif√©ricos</option>
                                        <option value="consolas">Consolas</option>
                                        <option value="sillas">Sillas Gaming</option>
                                        <option value="accesorios">Accesorios</option>
                                    </select>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">Estado</label>
                                    <select id="product-status" class="form-control">
                                        <option value="active">Activo</option>
                                        <option value="inactive">Inactivo</option>
                                        <option value="draft">Borrador</option>
                                    </select>
                                </div>

                                <div class="col-12">
                                    <label class="form-label">Descripci√≥n Corta *</label>
                                    <textarea id="product-description" class="form-control" rows="3" placeholder="Descripci√≥n breve del producto (m√°x. 200 caracteres)" maxlength="200" required></textarea>
                                    <div class="text-secondary" style="font-size: 0.875rem; margin-top: 0.25rem;">
                                        <span id="char-count">0</span>/200 caracteres
                                    </div>
                                </div>

                                <div class="col-12">
                                    <label class="form-label">Descripci√≥n Detallada</label>
                                    <textarea id="product-long-description" class="form-control" rows="4" placeholder="Descripci√≥n completa del producto"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Precios y Stock -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="gradient-text mb-4">Precios y Stock</h5>
                            
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label">Precio de Venta (CLP) *</label>
                                    <input type="number" id="product-price" class="form-control" placeholder="999990" min="0" step="1000" required>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">Precio Original (CLP)</label>
                                    <input type="number" id="product-original-price" class="form-control" placeholder="1199990" min="0" step="1000">
                                    <div class="text-secondary" style="font-size: 0.875rem;">Dejar vac√≠o si no hay descuento</div>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">Stock Disponible *</label>
                                    <input type="number" id="product-stock" class="form-control" placeholder="10" min="0" required>
                                </div>

                                <div class="col-md-6">
                                    <label class="form-label">SKU (C√≥digo)</label>
                                    <input type="text" id="product-sku" class="form-control" placeholder="LUG-PC-001">
                                </div>

                                <div class="col-12">
                                    <div class="d-flex gap-4">
                                        <div class="form-check">
                                            <input type="checkbox" id="product-featured" class="form-check-input">
                                            <label class="form-check-label text-secondary">Producto destacado</label>
                                        </div>
                                        <div class="form-check">
                                            <input type="checkbox" id="product-new" class="form-check-input">
                                            <label class="form-check-label text-secondary">Producto nuevo</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Especificaciones -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="gradient-text mb-4">Especificaciones</h5>
                            
                            <div id="specs-container" class="mb-3">
                                <!-- Se llenar√°n din√°micamente -->
                            </div>

                            <button type="button" onclick="addSpec()" class="btn btn-secondary">
                                Agregar Especificaci√≥n
                            </button>
                        </div>
                    </div>

                    <!-- Im√°genes -->
                    <div class="card mb-4">
                        <div class="card-body">
                            <h5 class="gradient-text mb-4">Im√°genes del Producto</h5>
                            
                            <div id="image-upload-area" class="image-upload-area">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">üì∏</div>
                                <h6 class="mb-2">Subir Im√°genes</h6>
                                <p class="text-secondary mb-3">Arrastra y suelta las im√°genes aqu√≠ o haz clic para seleccionar</p>
                                <input type="file" id="image-input" style="display: none;" multiple accept="image/*">
                                <button type="button" onclick="document.getElementById('image-input').click()" class="btn btn-primary">
                                    Seleccionar Archivos
                                </button>
                            </div>

                            <div id="image-preview" class="image-preview-container">
                                <!-- Previews de im√°genes -->
                            </div>
                        </div>
                    </div>

                    <!-- Botones de Acci√≥n -->
                    <div class="d-flex flex-column flex-md-row gap-3 mb-4">
                        <button type="button" onclick="saveProduct()" class="btn btn-primary flex-fill">
                            Guardar Producto
                        </button>
                        <button type="button" onclick="saveAsDraft()" class="btn btn-secondary flex-fill">
                            Guardar como Borrador
                        </button>
                        <button type="button" onclick="resetForm()" class="btn btn-outline-secondary flex-fill">
                            Limpiar Formulario
                        </button>
                    </div>
                </div>

                <!-- Preview del Producto -->
                <div class="col-lg-4">
                    <div class="product-preview">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="gradient-text mb-4">Vista Previa</h5>
                                
                                <!-- Card de vista previa del producto -->
                                <div style="background: #0a192f; border-radius: 0.5rem; overflow: hidden;">
                                    <div id="preview-image" class="preview-image">
                                        üñºÔ∏è
                                    </div>
                                    
                                    <div style="padding: 1rem;">
                                        <div class="d-flex align-items-center gap-2 mb-2">
                                            <span id="preview-category" class="category-badge">Categor√≠a</span>
                                            <div id="preview-badges">
                                                <!-- Badges din√°micos -->
                                            </div>
                                        </div>
                                        
                                        <h6 id="preview-name" class="mb-2" style="color: white;">
                                            Nombre del producto
                                        </h6>
                                        
                                        <p id="preview-description" class="text-secondary mb-3" style="font-size: 0.875rem;">
                                            Descripci√≥n del producto aparecer√° aqu√≠...
                                        </p>
                                        
                                        <div class="mb-3">
                                            <div id="preview-original-price" class="text-secondary" style="text-decoration: line-through; font-size: 0.875rem; display: none;"></div>
                                            <div id="preview-price" class="gradient-text" style="font-size: 1.5rem; font-weight: 700;">$0</div>
                                            <div id="preview-discount" class="text-success" style="font-size: 0.875rem; font-weight: 600; display: none;"></div>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <span class="text-secondary" style="font-size: 0.875rem;">Stock: </span>
                                            <span id="preview-stock" class="text-success" style="font-size: 0.875rem; font-weight: 600;">0 disponibles</span>
                                        </div>
                                        
                                        <div id="preview-specs" class="mb-3" style="display: none;">
                                            <h6 style="font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem;">Especificaciones:</h6>
                                            <ul id="preview-specs-list" class="text-secondary" style="font-size: 0.75rem; line-height: 1.4; padding-left: 1rem;">
                                                <!-- Specs din√°micas -->
                                            </ul>
                                        </div>
                                        
                                        <button class="btn btn-primary w-100">
                                            Agregar al Carrito
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/script.js"></script>
    <script src="JS/nuevoproducto.js"></script>
</body>
</html>